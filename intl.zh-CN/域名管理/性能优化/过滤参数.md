# 过滤参数 {#task_187634 .task}

如果您的URL请求中携带`?`和参数，例如：`http://alibaba.com/content?a=10`，则CDN节点在收到URL请求后，判断是否需要携带参数的URL返回源站。 本文为您详细介绍配置过滤参数的方法。

-   开启过滤参数。

    请求URL到CDN节点后，会截取到没有参数的请求URL，且CDN节点仅保留一份副本。

    -   虽然大部分HTTP请求中包含参数，但是参数内容优先级不高，可以忽略参数浏览文件，开启后可以有效提高文件缓存命中率，提升分发效率。
    -   如果参数有重要含义，例如，包含文件版本信息等，则推荐您设置为保留过滤参数。您最多可以设置10个保留参数，如果请求URL中包含您设置的保留参数，则会携带该参数回源。
-   关闭过滤参数。

    每个不同的URL都缓存不同的副本在CDN的节点上。


过滤参数包括保留过滤参数和忽略参数这两个功能。

-   保留过滤参数：保留指定参数，多个参数逗号隔开，未指定的参数将不会被保留。
-   忽略参数：删除指定的参数，多个参数之间用空格隔开，剩余参数将不会被忽略。

**说明：** URL鉴权功能的优先级高于过滤参数。由于鉴权方式A中的鉴权信息包含http请求的参数部分，所以CDN优先进行鉴权判断，鉴权通过后在CDN节点缓存一份副本。配置URL鉴权的操作方法，请参见[配置URL鉴权](ZH-CN_TP_15390.dita#concept_rtr_qsm_j2b)。

1.  登录[CDN控制台](https://cdn.console.aliyun.com)。
2.  在左侧导航栏，单击**域名管理**。
3.  在域名管理页面，单击目标域名对应的**管理**。
4.  在指定域名的左侧导航栏，单击**性能优化**。
5.  在过滤参数区域，配置保留过滤参数和忽略参数。 
    -   保留过滤参数
        1.  单击**保留过滤参数**区域的**修改配置**。

            ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/5161/156653378057056_zh-CN.png)

        2.  您可以根据所需配置**保留过滤参数**。

            |参数|说明|
            |--|--|
            |过滤参数|保留过滤参数开关。打开过滤参数开关后，资源回源时会去除URL中`?`之后的参数，提升文件缓存命中率。|
            |保留参数|配置需要保留的参数。最多可以配置10个保留参数，用空格作分隔符。|
            |保留回源参数|保留回源参数开关。打开保留回源参数开关后，资源回源时，保留所有参数。|

            示例说明：

            1.  CDN节点向源站发起请求`http://www.abc.com/a.jpg`，忽略参数x=1。
            2.  源站响应该请求内容后，响应到达CDN节点。
            3.  CDN节点会保留一份副本，然后继续向终端响应 `http://www.abc.com/a.jpg` 的内容。
            4.  所有类似的请求`http://www.abc.com/a.jpg?参数`均响应CDN副本`http://www.abc.com/a.jpg` 的内容。
        3.  单击**确定**。
    -   忽略参数
        1.  单击**忽略参数**区域的**修改配置**。

            ![过滤参数](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/5161/15665337807304_zh-CN.png)

        2.  您可以根据所需配置**忽略参数**。

            |参数|说明|
            |--|--|
            |过滤参数|忽略过滤参数开关。打开过滤参数开关后，资源回源时会删除指定参数，剩余参数将不会被删除。|
            |忽略参数|配置需要忽略的参数。最多可以配置10个忽略参数，用空格作分隔符。|
            |保留回源参数|保留回源参数开关。打开保留回源参数开关后，资源回源时，保留所有参数。|

            示例说明：`http://www.abc.com/a.jpg?x=1`和`http://www.abc.com/a.jpg?x=2`会响应不同参数源站的响应内容。

        3.  单击**确定**。

