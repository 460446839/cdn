# 配置Refer防盗链 {#task_187634 .task}

您可以通过配置访问的Referer黑名单和白名单来实现对访客身份的识别和过滤，从而限制访问CDN资源的用户，提升CDN的安全性。通过本文您可以了解Refer防盗链的配置方法。

-   防盗链功能基于HTTP协议支持的Referer机制，通过Referer跟踪来源，对来源进行识别和判断。
-   目前防盗链功能支持黑名单或白名单机制，您对资源发起请求后，请求到达CDN节点，CDN节点会根据您预设的防盗链黑名单或白名单，对访客的身份进行过滤。符合规则的用户可以顺利请求到资源，不符合规则的用户，请求会返回403响应码。

**说明：** 

-   防盗链是可选配置，默认不启用。
-   黑白名单互斥，同一时间您只能选择一种方式。
-   配置防盗链后，CDN自动添加泛域名支持。例如，如果您填写a.com，则最终配置生效的是\*.a.com，所有子级域名都会生效。
-   您可以设置是否允许空Referer字段访问CDN资源，即允许在浏览器地址栏输入地址直接访问资源URL。

1.  登录[CDN控制台](https://cdn.console.aliyun.com)。
2.  在左侧导航栏，单击**域名管理**。
3.  在域名管理页面，单击目标域名对应的**管理**。
4.  在指定域名的左侧导航栏，单击**访问控制**。
5.  在Refer防盗链区域，单击**修改配置**。 

    ![修改配置](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/5151/15641407177279_zh-CN.png)

6.  根据界面提示，设置**黑名单**或**白名单**。 

    |参数|说明|
    |--|--|
    |Refer类型| Refer防盗链类型如下：

    -   黑名单

黑名单内的域名均无法访问当前的资源。

    -   白名单

只有白名单内的域名能访问当前资源，白名单以外的域名均无法访问当前的资源。

 黑名单和白名单互斥，同一时间只支持其中一种方式生效。

 |
    |规则|使用回车符分隔多个Refer黑名单或白名单，支持通配符如a.\*b.com，可以匹配到a.aliyun.b.com或a.img.b.com等。|

7.  单击**确认**。

