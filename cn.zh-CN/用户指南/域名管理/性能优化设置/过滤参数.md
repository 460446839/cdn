# 过滤参数 {#task_187634 .task}

本文档为您介绍了过滤参数功能及操作步骤。过滤参数是指在请求URL中，如果携带`?`和`参数`，例如：`http://alibaba.com/content?a=10`，CDN节点在收到请求URL后判断是否将该带参数的URL返回源站。

-   开启过滤参数，请求URL到CDN节点后会截取到没有参数的请求URL，且CDN节点仅保留一份副本。
    -   由于大部分Http请求中包含参数，但往往参数内容优先级不高，可以忽略参数浏览文件，开启后可以有效提高文件缓存命中率，提升分发效率。
    -   如果参数有重要含义，例如包含文件版本信息等，推荐您设置为保留过滤参数。您可以设置最多10个保留参数，如果请求URL中包含您设置的保留参数，则会携带该参数回源。
-   关闭过滤参数，则每个不同的URL都缓存不同的副本在CDN的节点上。

过滤参数包括保留过滤参数和忽略参数这两个功能。

-   保留过滤参数：保留指定参数，多个参数逗号隔开，未指定的参数将不会被保留。
-   忽略参数：删除指定的参数，多个参数之间用空格隔开，剩余参数将不会被忽略。

适用业务类型：所有。

**说明：** URL鉴权功能的优先级高于过滤参数。由于A类型鉴权信息包含在http请求的参数部分，所以系统会先进行鉴权判断，鉴权通过后在CDN节点缓存一份副本。配置URL鉴权，请参见[配置URL鉴权](ZH-CN_TP_15390.dita#concept_rtr_qsm_j2b)。

1.  登录[CDN控制台](https://cdnnext.console.aliyun.com/overview)。
2.  进入域名管理页面，选择需要设置的域名，单击**管理**。
3.  进入性能优化，在过滤参数区域框中，单击**修改配置**。您可以打开或关闭**过滤参数**开关，并设置**保留参数**或**忽略参数**。
4.  单击**确认**，过滤参数功能设置成功。 

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/5161/15596279107304_zh-CN.png)

    示例说明：

    `http://www.abc.com/a.jpg?x=1`请求URL到CDN节点。

    -   开启保留过滤参数功能：
        1.  CDN节点向源站发起请求`http://www.abc.com/a.jpg`（忽略参数x=1）。
        2.  源站响应该请求内容后，响应到达CDN节点。
        3.  CDN节点会保留一份副本，然后继续向终端响应 `http://www.abc.com/a.jpg` 的内容。
        4.  所有类似的请求`http://www.abc.com/a.jpg?参数`均响应CDN副本`http://www.abc.com/a.jpg` 的内容。
    -   关闭保留过滤参数功能：`http://www.abc.com/a.jpg?x=1`和`http://www.abc.com/a.jpg?x=2`会响应不同参数源站的响应内容。

